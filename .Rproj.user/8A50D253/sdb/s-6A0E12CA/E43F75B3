{
    "contents" : "rm(list=ls(all=TRUE)) #Clear the memory of variables from previous run. This is not called by knitr, because it's above the first chunk.\n\n\n## @knitr load_sources\n\n\n\n## @knitr load_packages\nlibrary(dplyr) # for data manipulation\nlibrary(tidyr)\nlibrary(ggplot2) # for graphing\nlibrary(scales) #for formating values in graphs\nlibrary(testit, quietly=TRUE) #For asserts\nlibrary(corrplot)\nlibrary(\"PerformanceAnalytics\") # for item analysis\n\n## @knitr declare_globals\n\n## @knitr load_custom\nsource(\"./scripts/graphs/main_theme.R\")\n\n## @knitr load_data\n# exam_i_results_wide <- read.csv(\"C:/Users/koval_000/Google Drive/Courses/UVic-PSY-532-Univariate-GLM/materials/exams/exam_i/exam_i_results.csv\")\n# dsL <- tidyr::gather(ds,student,score,7:18)\n\n\nexam_i_results <- read.csv(\"C:/Users/koval_000/Google Drive/Courses/UVic-PSY-532-Univariate-GLM/materials/exams/exam_i/exam_i_results.csv\")\n\nds <- exam_i_results\n# names(ds[1])\nds <- ds[!ds$name==\"Andriy\",]\nds <- ds[-1] # remove the name\n\n\n## @knitr tweak_data\n# head(ds) \nds$total <- rowSums(ds) # compute the total\n# head(ds)\n\n\n## @knitr summary_stats\n# head(ds)\nsapply(ds,summary)\n\n\n\n\n\n## @knitr corr_table\ncorr <- cor(ds)\ncorr \n\n## @knitr corr_graph\n# see basics of corrplot\n# https://cran.r-project.org/web/packages/corrplot/vignettes/corrplot-intro.html\n# corrplot::corrplot(corr) \ncorrplot::corrplot(corr,type=\"upper\")\n# corrplot::corrplot(corr,type=\"upper\", method=\"number\") \ncorrplot::corrplot(corr,type=\"upper\", method=\"pie\") \n# corrplot::corrplot.mixed(corr, upper=\"pie\", lower=\"number\", tl.pos = \"lt\") \n# corrplot::corrplot(corr, order = \"hclust\", addrect = 3, method=\"pie\")\n# corrplot::corrplot.mixed(corr, order = \"FPC\", upper=\"pie\", lower=\"number\", tl.pos=\"lt\")\n\n# corrplotCustom <- function (corr, lower=\"number\", upper=\"pie\", bg=\"white\", addgrid.col=\"gray\", tl.cex=2)  {\n#   n <- nrow(corr)\n#   corrplot(corr, type=\"upper\", method=upper, diag=TRUE, tl.pos=\"n\", tl.cex=tl.cex)\n#   corrplot(corr, add=TRUE, type=\"lower\", method=lower, tl.pos=\"lt\")\n# }\n# corrplotCustom(corr, tl.cex=1.2)  \n\n\n## @knitr item_performance \n# http://www.sthda.com/english/wiki/factominer-and-factoextra-principal-component-analysis-visualization-r-software-and-data-mining#at_pco=smlwn-1.0&at_si=56168e3a61660900&at_ab=-&at_pos=0&at_tot=1\nPerformanceAnalytics::chart.Correlation(ds, histogram=TRUE, pch=1)\n  \n\n\n\n###############################\n\n## @knitr item_graphs\n# for( i in 1:ncol(ds) ) {\n  for( i in 1:15 ) {\n\n  item  <- ds[i]\n  item_name <- colnames(item)\n  item_mean <-   round(mean(ds[,i]),2)\n  item_sd <-  round(sd(ds[,i]),2)\n  middle <- 3\n\n  # d_bivariate_study <- ds_bivariate_pretty[ds_bivariate_pretty$study==study_name, ]\n  # d_bivariate_study <- d_bivariate_study[ , -(1:2)]\n  cat(\"\") #Force a new line\n  cat(paste0(\"### \", item_name))\n  cat(\"\\n\") #Force a new line\n\n#   mean(item)\n#   sd(item)\n#   cat(\"\") #Force a new line\n# #   cat(paste0(\"### \", gender))\n#   cat(\"\\n\") #Force a new line\n\n  g <- ggplot2::ggplot(item, aes_string(x=item_name))\n  g <- g + geom_dotplot(aes(stat=\"identity\"))\n  # g <- g + geom_histogram(aes(stat=\"identity\"))\n  g <- g + geom_density(aes(stat=\"identity\"), color=\"red\")\n  g <- g + geom_vline(xintercept = mean)\n  g <- g + annotate(geom=\"text\",x=item_mean, y=middle, label=paste0(item_mean,\" (\",item_sd,\")\"))\n  g <- g + main_theme\n  print(g)\n  cat(\"\\n\\n\") #Force a new line\n}\n\n\n## @knitr spread_graph\nds\n\n  g <- ggplot2::ggplot(item, aes(x=total, y=total))\n  g <- g + geom_point(size=2, color=\"blue\")\n  g <- g + geom_text(aes(label=total), vjust=-2)\n  # g <- g + geom_histogram(aes(stat=\"identity\"))\n  # g <- g + geom_density(aes(stat=\"identity\"), color=\"red\")\n  # g <- g + geom_vline(xintercept = mean)\n  # g <- g + annotate(geom=\"text\",x=item_mean, y=middle, label=paste0(item_mean,\" (\",item_sd,\")\"))\n  g <- g + main_theme\n  g\n\n####################################  \n# d <- tidyr::spread(dsL,name,score)\n# head(d)\n\n## @kntir basic_table\ndsL <- tidyr::gather(ds, item_name, item_score, 1:15)\n\n\n\n## @knitr basic_graph\ng <- ggplot2::ggplot(dsL, aes(x=score))\ng <- g + geom_boxplot(aes(y=name))\ng <- g + geom_point(aes(y=name))\n# g <- g + facet_grid(.~name)\ng <- g + main_theme\ng\n####################################  \n\n\n\n\n## @knitr reproduce\n  rmarkdown::render(input = \"./materials/evaluation/exam_i/exam_i.Rmd\" ,\n                    output_format=\"html_document\", clean=TRUE)\n  ",
    "created" : 1445267995093.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4171460802",
    "id" : "E43F75B3",
    "lastKnownWriteTime" : 1444326260,
    "path" : "~/GitHub/psy532/materials/evaluation/exam_i/exam_i.R",
    "project_path" : "materials/evaluation/exam_i/exam_i.R",
    "properties" : {
    },
    "relative_order" : 10,
    "source_on_save" : false,
    "type" : "r_source"
}